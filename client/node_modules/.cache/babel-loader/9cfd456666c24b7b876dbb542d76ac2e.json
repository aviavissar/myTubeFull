{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\AVIA\\\\Desktop\\\\youTubeNew\\\\myTubeFull\\\\client\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import axios1 from\"axios\";var axios=axios1.default;export var login=function login(email,password){var response;return _regeneratorRuntime.async(function login$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;console.log(email+\",\"+password);_context.next=4;return _regeneratorRuntime.awrap(axios.post(\"/users/login\",{email:email,password:password},{headers:{\"Content-Type\":\"application/json\"}}));case 4:response=_context.sent;if(!(response.status===200)){_context.next=13;break;}if(!(response.data===400)){_context.next=10;break;}return _context.abrupt(\"return\",new Error(\"Unable to find your mail please sign in\"));case 10:if(!(response.data===401)){_context.next=12;break;}return _context.abrupt(\"return\",new Error(\"wrong password try again\"));case 12:return _context.abrupt(\"return\",response);case 13:_context.next=18;break;case 15:_context.prev=15;_context.t0=_context[\"catch\"](0);console.log(_context.t0.message);case 18:case\"end\":return _context.stop();}}},null,null,[[0,15]]);};export var logout=function logout(userToken){var response;return _regeneratorRuntime.async(function logout$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return _regeneratorRuntime.awrap(axios.post(\"/users/logout\",{},{headers:{Authorization:userToken}}));case 3:response=_context2.sent;return _context2.abrupt(\"return\",response.data);case 7:_context2.prev=7;_context2.t0=_context2[\"catch\"](0);console.error(\" client error\"+_context2.t0);case 10:case\"end\":return _context2.stop();}}},null,null,[[0,7]]);};export var createUser=function createUser(email,password,fname,lname){var response;return _regeneratorRuntime.async(function createUser$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return _regeneratorRuntime.awrap(axios({method:\"post\",url:\"/users\",headers:{},data:{fname:fname,lname:lname,email:email,password:password}}).catch(function(e){console.log(\"error\",e.response);if(e.response.data.code===11000){throw new Error(\"this email already exist\");}}));case 3:response=_context3.sent;console.log(\"createftch\",response);return _context3.abrupt(\"return\",response);case 8:_context3.prev=8;_context3.t0=_context3[\"catch\"](0);console.log(\"createftcherr\",_context3.t0.message);throw _context3.t0;case 12:case\"end\":return _context3.stop();}}},null,null,[[0,8]]);};export var updateProfile=function updateProfile(profile,userToken){var password,_profile$fname,fname,lname,response;return _regeneratorRuntime.async(function updateProfile$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:password=profile.password,_profile$fname=profile.fname,fname=_profile$fname===void 0?\"my defaultName\":_profile$fname,lname=profile.lname;_context4.prev=1;console.log(\"response\",profile);_context4.next=5;return _regeneratorRuntime.awrap(axios({method:\"patch\",url:\"/users/me\",data:{fname:fname,lname:lname,password:password},headers:{Authorization:userToken}}));case 5:response=_context4.sent;console.log(response.data);return _context4.abrupt(\"return\",response.data);case 10:_context4.prev=10;_context4.t0=_context4[\"catch\"](1);console.error(\" client error\");case 13:case\"end\":return _context4.stop();}}},null,null,[[1,10]]);};/****catagories */export var getCatagories=function getCatagories(userToken){var response;return _regeneratorRuntime.async(function getCatagories$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.prev=0;_context5.next=3;return _regeneratorRuntime.awrap(axios({method:\"get\",url:\"/catagories\",headers:{Authorization:userToken}}));case 3:response=_context5.sent;return _context5.abrupt(\"return\",response.data);case 7:_context5.prev=7;_context5.t0=_context5[\"catch\"](0);console.error(_context5.t0);case 10:case\"end\":return _context5.stop();}}},null,null,[[0,7]]);};export var createCategory=function createCategory(userToken,category){var response;return _regeneratorRuntime.async(function createCategory$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.prev=0;_context6.next=3;return _regeneratorRuntime.awrap(axios({method:\"post\",url:\"/catagories\",headers:{\"Content-Type\":\"application/json; charset=utf-8\",Authorization:userToken},data:category}));case 3:response=_context6.sent;console.log(response);return _context6.abrupt(\"return\",response.data);case 8:_context6.prev=8;_context6.t0=_context6[\"catch\"](0);console.error(_context6.t0);case 11:case\"end\":return _context6.stop();}}},null,null,[[0,8]]);};export var updateCategory=function updateCategory(editCat,userToken){var _id,cat_name,videos,response;return _regeneratorRuntime.async(function updateCategory$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_id=editCat._id,cat_name=editCat.cat_name,videos=editCat.videos;_context7.prev=1;console.log(\"response\",editCat);_context7.next=5;return _regeneratorRuntime.awrap(axios({method:\"patch\",url:\"/catagories/\".concat(_id),data:{cat_name:cat_name,videos:videos},headers:{Authorization:userToken}}));case 5:response=_context7.sent;return _context7.abrupt(\"return\",response.data);case 9:_context7.prev=9;_context7.t0=_context7[\"catch\"](1);console.error(\" claint error\");case 12:case\"end\":return _context7.stop();}}},null,null,[[1,9]]);};export var deleteCategory=function deleteCategory(userToken,id){return _regeneratorRuntime.async(function deleteCategory$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.prev=0;_context8.next=3;return _regeneratorRuntime.awrap(axios.delete(\"/catagories/\".concat(id),{headers:{Authorization:userToken}}));case 3:_context8.next=8;break;case 5:_context8.prev=5;_context8.t0=_context8[\"catch\"](0);console.error(\" exios claint error\"+_context8.t0);case 8:case\"end\":return _context8.stop();}}},null,null,[[0,5]]);};export var createList=function createList(userToken,catagories){var response;return _regeneratorRuntime.async(function createList$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:_context9.prev=0;_context9.next=3;return _regeneratorRuntime.awrap(axios({method:\"post\",url:\"/catagories/list\",headers:{\"Content-Type\":\"application/json; charset=utf-8\",Authorization:userToken},data:catagories}));case 3:response=_context9.sent;console.log(response);return _context9.abrupt(\"return\",response);case 8:_context9.prev=8;_context9.t0=_context9[\"catch\"](0);console.error(_context9.t0);case 11:case\"end\":return _context9.stop();}}},null,null,[[0,8]]);};","map":{"version":3,"sources":["C:/Users/AVIA/Desktop/youTubeNew/myTubeFull/client/src/service/fetchApi.js"],"names":["axios1","axios","default","login","email","password","console","log","post","headers","response","status","data","Error","message","logout","userToken","Authorization","error","createUser","fname","lname","method","url","catch","e","code","updateProfile","profile","getCatagories","createCategory","category","updateCategory","editCat","_id","cat_name","videos","deleteCategory","id","delete","createList","catagories"],"mappings":"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","sourcesContent":["import axios1 from \"axios\";\r\nlet axios = axios1.default;\r\n\r\nexport const login = async (email, password) => {\r\n  try {\r\n    console.log(email + \",\" + password);\r\n    const response = await axios.post(\r\n      \"/users/login\",\r\n      { email, password },\r\n      {\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n      }\r\n    );\r\n    if (response.status === 200) {\r\n      if (response.data === 400) {\r\n        return new Error(\"Unable to find your mail please sign in\");\r\n      } else if (response.data === 401) {\r\n        return new Error(\"wrong password try again\");\r\n      }\r\n\r\n      return response;\r\n    }\r\n  } catch (e) {\r\n    console.log(e.message);\r\n  }\r\n};\r\n\r\nexport const logout = async (userToken) => {\r\n  try {\r\n    const response = await axios.post(\r\n      \"/users/logout\",\r\n      {},\r\n      {\r\n        headers: {\r\n          Authorization: userToken,\r\n        },\r\n      }\r\n    );\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error(\" client error\" + error);\r\n  }\r\n};\r\n\r\nexport const createUser = async (email, password, fname, lname) => {\r\n  try {\r\n    const response = await axios({\r\n      method: \"post\",\r\n      url: \"/users\",\r\n      headers: {},\r\n      data: {\r\n        fname,\r\n        lname,\r\n        email,\r\n        password,\r\n      },\r\n    }).catch((e) => {\r\n      console.log(\"error\", e.response);\r\n      if (e.response.data.code === 11000) {\r\n        throw new Error(\"this email already exist\");\r\n      }\r\n    });\r\n    console.log(\"createftch\", response);\r\n    return response;\r\n  } catch (error) {\r\n    console.log(\"createftcherr\", error.message);\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const updateProfile = async (profile, userToken) => {\r\n  const { password, fname = \"my defaultName\", lname } = profile;\r\n  try {\r\n    console.log(\"response\", profile);\r\n    const response = await axios({\r\n      method: \"patch\",\r\n      url: \"/users/me\",\r\n      data: {\r\n        fname,\r\n        lname,\r\n        password,\r\n      },\r\n      headers: {\r\n        Authorization: userToken,\r\n      },\r\n    });\r\n    console.log(response.data);\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error(\" client error\");\r\n  }\r\n};\r\n\r\n/****catagories */\r\nexport const getCatagories = async (userToken) => {\r\n  try {\r\n    const response = await axios({\r\n      method: \"get\",\r\n      url: \"/catagories\",\r\n      headers: {\r\n        Authorization: userToken,\r\n      },\r\n    });\r\n\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n};\r\n\r\nexport const createCategory = async (userToken, category) => {\r\n  try {\r\n    const response = await axios({\r\n      method: \"post\",\r\n      url: \"/catagories\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n        Authorization: userToken,\r\n      },\r\n      data: category,\r\n    });\r\n    console.log(response);\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n};\r\nexport const updateCategory = async (editCat, userToken) => {\r\n  const { _id, cat_name, videos } = editCat;\r\n  try {\r\n    console.log(\"response\", editCat);\r\n    const response = await axios({\r\n      method: \"patch\",\r\n      url: `/catagories/${_id}`,\r\n      data: {\r\n        cat_name,\r\n        videos,\r\n      },\r\n      headers: {\r\n        Authorization: userToken,\r\n      },\r\n    });\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error(\" claint error\");\r\n  }\r\n};\r\n\r\nexport const deleteCategory = async (userToken, id) => {\r\n  try {\r\n    await axios.delete(`/catagories/${id}`, {\r\n      headers: {\r\n        Authorization: userToken,\r\n      },\r\n    });\r\n  } catch (error) {\r\n    console.error(\" exios claint error\" + error);\r\n  }\r\n};\r\n\r\nexport const createList = async (userToken, catagories) => {\r\n  try {\r\n    const response = await axios({\r\n      method: \"post\",\r\n      url: \"/catagories/list\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n        Authorization: userToken,\r\n      },\r\n      data: catagories,\r\n    });\r\n    console.log(response);\r\n    return response;\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n};\r\n"]},"metadata":{},"sourceType":"module"}