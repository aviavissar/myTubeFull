{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/AVIA/Desktop/youTubeNew/myTubeFull/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _toConsumableArray from\"C:/Users/AVIA/Desktop/youTubeNew/myTubeFull/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _asyncToGenerator from\"C:/Users/AVIA/Desktop/youTubeNew/myTubeFull/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/AVIA/Desktop/youTubeNew/myTubeFull/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _styled from\"styled-components\";import React,{useState,useEffect}from\"react\";import CategoryOptions from\"./CategoryOptions\";import{deleteCategory,createCategory}from\"../service/fetchApi\";var CategoryCreator=function CategoryCreator(_ref){var setCatagories=_ref.setCatagories,catagories=_ref.catagories,selectedCategory=_ref.selectedCategory,setSelectedCategory=_ref.setSelectedCategory,userToken=_ref.userToken,isConnected=_ref.isConnected;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),catInput=_useState2[0],setCatInput=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),deletecatID=_useState4[0],setDeletecatID=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),disabledBt=_useState6[0],setdisabledBt=_useState6[1];useEffect(function(){setdisabledBt(isConnected);},[isConnected]);var addCategory=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var new_cat;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();if(!(catInput!==\"\")){_context.next=15;break;}if(catagories.find(function(cat){return cat.cat_name===catInput;})){_context.next=10;break;}_context.next=5;return createCategory(userToken,{cat_name:catInput,videos:[]});case 5:new_cat=_context.sent;setCatagories([].concat(_toConsumableArray(catagories),[new_cat]));setCatInput(\"\");_context.next=13;break;case 10:alert(\"this name all ready exists\");setCatInput(\"\");return _context.abrupt(\"return\");case 13:_context.next=16;break;case 15:alert(\"You need to put a category name\");case 16:case\"end\":return _context.stop();}}},_callee);}));return function addCategory(_x){return _ref2.apply(this,arguments);};}();var toDeleteCategory=function toDeleteCategory(e){e.preventDefault();if(catagories.length>1){var newCat=catagories.filter(function(cat){return cat._id!==deletecatID;});setCatagories(newCat);console.log(deletecatID);deleteCategory(userToken,deletecatID);}else{alert(\"No catagories to delete\");}};var getCatID=function getCatID(id){console.log(id);setDeletecatID(id);};return/*#__PURE__*/React.createElement(\"form\",{className:isConnected?\"category_form\":\"disable category_form\"},/*#__PURE__*/React.createElement(Inp,null,/*#__PURE__*/React.createElement(\"div\",{className:\"description\"},/*#__PURE__*/React.createElement(\"span\",null,\" the video will add to:\")),/*#__PURE__*/React.createElement(CategoryOptions,{className:isConnected?\"\":\"disable\",catagories:catagories,setSelectedCategory:setSelectedCategory,selectedCategory:selectedCategory,getCatID:getCatID,isConnected:isConnected})),/*#__PURE__*/React.createElement(Border,null),/*#__PURE__*/React.createElement(Inp,null,/*#__PURE__*/React.createElement(\"input\",{type:\"text\",value:catInput,onChange:function onChange(e){return setCatInput(e.target.value);},placeholder:\"category name\",className:isConnected?\"category\":\"disable category\"}),/*#__PURE__*/React.createElement(\"button\",{className:isConnected?\"\":\"disable\",disabled:!disabledBt,onClick:function onClick(e){return addCategory(e);}},\"add category\")),/*#__PURE__*/React.createElement(Border,null),/*#__PURE__*/React.createElement(Inp,null,/*#__PURE__*/React.createElement(CategoryOptions,{catagories:catagories,setSelectedCategory:setSelectedCategory,selectedCategory:selectedCategory,getCatID:getCatID,isConnected:isConnected}),/*#__PURE__*/React.createElement(\"button\",{className:isConnected?\"\":\"disable\",onClick:toDeleteCategory,disabled:!disabledBt},\"delete category\")));};export default CategoryCreator;var Inp=_styled.div.withConfig({displayName:\"CategoryCreator__Inp\",componentId:\"schw8j-0\"})([\"width:30%;display:flex;justify-content:space-around;padding:1px 5px;@media only screen and (max-width:414px){width:100%;height:40px;}\"]);var Border=_styled.div.withConfig({displayName:\"CategoryCreator__Border\",componentId:\"schw8j-1\"})([\"width:4px;background-color:#e3e3e3;height:auto;margin:1px auto;border-radius:5px;\"]);","map":{"version":3,"sources":["C:/Users/AVIA/Desktop/youTubeNew/myTubeFull/client/src/view/CategoryCreator.jsx"],"names":["React","useState","useEffect","CategoryOptions","deleteCategory","createCategory","CategoryCreator","setCatagories","catagories","selectedCategory","setSelectedCategory","userToken","isConnected","catInput","setCatInput","deletecatID","setDeletecatID","disabledBt","setdisabledBt","addCategory","e","preventDefault","find","cat","cat_name","videos","new_cat","alert","toDeleteCategory","length","newCat","filter","_id","console","log","getCatID","id","target","value","Inp","styled","div","Border"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport styled from \"styled-components/macro\";\r\nimport CategoryOptions from \"./CategoryOptions\";\r\nimport { deleteCategory, createCategory } from \"../service/fetchApi\";\r\n\r\nconst CategoryCreator = ({\r\n  setCatagories,\r\n  catagories,\r\n  selectedCategory,\r\n  setSelectedCategory,\r\n  userToken,\r\n  isConnected,\r\n}) => {\r\n  let [catInput, setCatInput] = useState(\"\");\r\n  let [deletecatID, setDeletecatID] = useState(\"\");\r\n  const [disabledBt, setdisabledBt] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setdisabledBt(isConnected);\r\n  }, [isConnected]);\r\n\r\n  const addCategory = async (e) => {\r\n    e.preventDefault();\r\n    if (catInput !== \"\") {\r\n      if (!catagories.find((cat) => cat.cat_name === catInput)) {\r\n        const new_cat = await createCategory(userToken, {\r\n          cat_name: catInput,\r\n          videos: [],\r\n        });\r\n\r\n        setCatagories([...catagories, new_cat]);\r\n        setCatInput(\"\");\r\n      } else {\r\n        alert(\"this name all ready exists\");\r\n        setCatInput(\"\");\r\n        return;\r\n      }\r\n    } else {\r\n      alert(\"You need to put a category name\");\r\n    }\r\n  };\r\n\r\n  const toDeleteCategory = (e) => {\r\n    e.preventDefault();\r\n    if (catagories.length > 1) {\r\n      const newCat = catagories.filter((cat) => cat._id !== deletecatID);\r\n      setCatagories(newCat);\r\n      console.log(deletecatID);\r\n      deleteCategory(userToken, deletecatID);\r\n    } else {\r\n      alert(\"No catagories to delete\");\r\n    }\r\n  };\r\n  const getCatID = (id) => {\r\n    console.log(id);\r\n    setDeletecatID(id);\r\n  };\r\n\r\n  return (\r\n    <form className={isConnected ? \"category_form\" : \"disable category_form\"}>\r\n      <Inp>\r\n        <div className=\"description\">\r\n          <span> the video will add to:</span>\r\n        </div>\r\n        <CategoryOptions\r\n          className={isConnected ? \"\" : \"disable\"}\r\n          {...{\r\n            catagories,\r\n            setSelectedCategory,\r\n            selectedCategory,\r\n            getCatID,\r\n            isConnected,\r\n          }}\r\n        />\r\n      </Inp>\r\n      <Border />\r\n      <Inp>\r\n        <input\r\n          type=\"text\"\r\n          value={catInput}\r\n          onChange={(e) => setCatInput(e.target.value)}\r\n          placeholder=\"category name\"\r\n          className={isConnected ? \"category\" : \"disable category\"}\r\n        />\r\n        <button\r\n          className={isConnected ? \"\" : \"disable\"}\r\n          disabled={!disabledBt}\r\n          onClick={(e) => addCategory(e)}\r\n        >\r\n          add category\r\n        </button>\r\n      </Inp>\r\n      <Border />\r\n      <Inp>\r\n        <CategoryOptions\r\n          {...{\r\n            catagories,\r\n            setSelectedCategory,\r\n            selectedCategory,\r\n            getCatID,\r\n            isConnected,\r\n          }}\r\n        />\r\n        <button\r\n          className={isConnected ? \"\" : \"disable\"}\r\n          onClick={toDeleteCategory}\r\n          disabled={!disabledBt}\r\n        >\r\n          delete category\r\n        </button>\r\n      </Inp>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default CategoryCreator;\r\n\r\nconst Inp = styled.div`\r\n  width: 30%;\r\n  display: flex;\r\n  justify-content: space-around;\r\n  padding: 1px 5px;\r\n  @media only screen and (max-width: 414px) {\r\n    width: 100%;\r\n    height: 40px;\r\n  }\r\n`;\r\nconst Border = styled.div`\r\n  width: 4px;\r\n  background-color: #e3e3e3;\r\n  height: auto;\r\n  margin: 1px auto;\r\n  border-radius: 5px;\r\n`;\r\n"]},"metadata":{},"sourceType":"module"}