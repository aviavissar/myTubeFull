{"ast":null,"code":"import _objectSpread from\"C:/Users/AVIA/Desktop/youTubeNew/myTubeFull/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:/Users/AVIA/Desktop/youTubeNew/myTubeFull/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,createContext,useContext,useEffect}from\"react\";var YouTubeStore=/*#__PURE__*/createContext();var Provider=YouTubeStore.Provider;var useStore=function useStore(){var context=useContext(YouTubeStore);if(!context){throw new Error(\"useStore must be used within a Provider\");}return context;};var YouTubeProvider=function YouTubeProvider(_ref){var children=_ref.children;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),selectedVideo=_useState2[0],setSelectedVideo=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),videos=_useState4[0],setvideos=_useState4[1];var _useState5=useState(JSON.parse(localStorage.getItem('YTcatagories'))||[]),_useState6=_slicedToArray(_useState5,2),catagories=_useState6[0],setCatagories=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),selectedCategory=_useState8[0],setSelectedCategory=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),listVideos=_useState10[0],setListVideos=_useState10[1];var _useState11=useState(JSON.parse(localStorage.getItem('YTuserProfile'))||{}),_useState12=_slicedToArray(_useState11,2),userProfile=_useState12[0],setUserProfile=_useState12[1];var _useState13=useState(localStorage.getItem('YTuserToken')||null),_useState14=_slicedToArray(_useState13,2),userToken=_useState14[0],setUserToken=_useState14[1];var _useState15=useState(JSON.parse(localStorage.getItem('YTisConnected'))||false),_useState16=_slicedToArray(_useState15,2),isConnected=_useState16[0],setIsConnected=_useState16[1];useEffect(function(){localStorage.setItem(\"YTisConnected\",JSON.stringify(isConnected));if(isConnected){localStorage.setItem(\"YTuserProfile\",JSON.stringify(userProfile));localStorage.setItem(\"YTcatagories\",JSON.stringify(catagories));localStorage.setItem(\"YTuserToken\",userToken);}else{localStorage.clear();}},[isConnected,userProfile,catagories,userToken]);console.log(catagories);// state = values to display\nvar state={selectedVideo:selectedVideo,videos:videos,catagories:catagories,selectedCategory:selectedCategory,listVideos:listVideos,isConnected:isConnected,userProfile:userProfile,userToken:userToken};// actions = callbacks to invoke\nvar actions={setSelectedVideo:setSelectedVideo,setvideos:setvideos,setCatagories:setCatagories,setSelectedCategory:setSelectedCategory,setListVideos:setListVideos,setUserToken:setUserToken,setIsConnected:setIsConnected,setUserProfile:setUserProfile};return/*#__PURE__*/React.createElement(Provider,{value:_objectSpread(_objectSpread({},state),actions)},children);};export{YouTubeProvider,useStore};","map":{"version":3,"sources":["C:/Users/AVIA/Desktop/youTubeNew/myTubeFull/client/src/state/YouTube.store.js"],"names":["React","useState","createContext","useContext","useEffect","YouTubeStore","Provider","useStore","context","Error","YouTubeProvider","children","selectedVideo","setSelectedVideo","videos","setvideos","JSON","parse","localStorage","getItem","catagories","setCatagories","selectedCategory","setSelectedCategory","listVideos","setListVideos","userProfile","setUserProfile","userToken","setUserToken","isConnected","setIsConnected","setItem","stringify","clear","console","log","state","actions"],"mappings":"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","sourcesContent":["import React, { useState, createContext, useContext,useEffect} from \"react\";\r\n\r\nconst YouTubeStore = createContext();\r\nconst { Provider } = YouTubeStore;\r\n\r\nconst useStore = () => {\r\n  const context = useContext(YouTubeStore);\r\n  if (!context) {\r\n    throw new Error(`useStore must be used within a Provider`);\r\n  }\r\n  return context;\r\n};\r\n\r\nconst YouTubeProvider = ({ children }) => {\r\n  let [selectedVideo, setSelectedVideo] = useState(null);\r\n  let [videos, setvideos] = useState([]);\r\n  let [catagories, setCatagories] = useState(JSON.parse(localStorage.getItem('YTcatagories')) || []);\r\n  let [selectedCategory, setSelectedCategory] = useState(\"\");\r\n  let [listVideos, setListVideos] = useState([]);\r\n  const [userProfile, setUserProfile] = useState(JSON.parse(localStorage.getItem('YTuserProfile')) || {});\r\n  const [userToken, setUserToken] = useState(localStorage.getItem('YTuserToken') || null);\r\n  const [isConnected, setIsConnected] = useState(JSON.parse( localStorage.getItem('YTisConnected')) || false);\r\n  \r\n  useEffect(() => {\r\n    localStorage.setItem(\"YTisConnected\", JSON.stringify(isConnected));\r\n    if(isConnected){\r\n      localStorage.setItem(\"YTuserProfile\", JSON.stringify(userProfile));\r\n      localStorage.setItem(\"YTcatagories\", JSON.stringify(catagories)); \r\n       localStorage.setItem(\"YTuserToken\", userToken);\r\n    }else{\r\n      localStorage.clear()\r\n    }\r\n\r\n  }, [isConnected,userProfile,catagories,userToken]);\r\n\r\n\r\n\r\n  console.log(catagories);\r\n\r\n  // state = values to display\r\n  const state = {\r\n    selectedVideo,\r\n    videos,\r\n    catagories,\r\n    selectedCategory,\r\n    listVideos,\r\n    isConnected,\r\n    userProfile,\r\n    userToken,\r\n  };\r\n  // actions = callbacks to invoke\r\n  const actions = {\r\n    setSelectedVideo,\r\n    setvideos,\r\n    setCatagories,\r\n    setSelectedCategory,\r\n    setListVideos,\r\n    setUserToken,\r\n    setIsConnected,\r\n    setUserProfile,\r\n  };\r\n  \r\n  return <Provider value={{ ...state, ...actions }}>{children}</Provider>;\r\n};\r\n\r\nexport { YouTubeProvider, useStore };\r\n"]},"metadata":{},"sourceType":"module"}