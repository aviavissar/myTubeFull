{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\AVIA\\\\Desktop\\\\youTubeNew\\\\myTubeFull\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nimport _styled from \"styled-components\";\nvar _jsxFileName = \"C:\\\\Users\\\\AVIA\\\\Desktop\\\\youTubeNew\\\\myTubeFull\\\\client\\\\src\\\\view\\\\CategoryCreator.jsx\";\nimport React, { useState, useEffect } from \"react\";\nimport CategoryOptions from \"./CategoryOptions\";\nimport { deleteCategory, createCategory } from \"../service/fetchApi\";\n\nconst CategoryCreator = ({\n  setCatagories,\n  catagories,\n  selectedCategory,\n  setSelectedCategory,\n  userToken,\n  isConnected\n}) => {\n  let _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      catInput = _useState2[0],\n      setCatInput = _useState2[1];\n\n  let _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      deletecatID = _useState4[0],\n      setDeletecatID = _useState4[1];\n\n  const _useState5 = useState(false),\n        _useState6 = _slicedToArray(_useState5, 2),\n        disabledBt = _useState6[0],\n        setdisabledBt = _useState6[1];\n\n  useEffect(() => {\n    setdisabledBt(isConnected);\n  }, [isConnected]);\n\n  const addCategory = async e => {\n    e.preventDefault();\n\n    if (catInput !== \"\") {\n      if (!catagories.find(cat => cat.cat_name === catInput)) {\n        const new_cat = await createCategory(userToken, {\n          cat_name: catInput,\n          videos: []\n        });\n        setCatagories([...catagories, new_cat]);\n        setCatInput(\"\");\n      } else {\n        alert(\"this name all ready exists\");\n        setCatInput(\"\");\n        return;\n      }\n    } else {\n      alert(\"You need to put a category name\");\n    }\n  };\n\n  const toDeleteCategory = e => {\n    e.preventDefault();\n\n    if (catagories.length > 1) {\n      const newCat = catagories.filter(cat => cat._id !== deletecatID);\n      setCatagories(newCat);\n      console.log(deletecatID);\n      deleteCategory(userToken, deletecatID);\n    } else {\n      alert(\"No catagories to delete\");\n    }\n  };\n\n  const getCatID = id => {\n    console.log(id);\n    setDeletecatID(id);\n  };\n\n  return React.createElement(\"form\", {\n    className: isConnected ? \"category_form\" : \"disable category_form\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, React.createElement(Inp, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"description\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, \" the video will add to:\")), React.createElement(CategoryOptions, Object.assign({\n    className: isConnected ? \"\" : \"disable\"\n  }, {\n    catagories,\n    setSelectedCategory,\n    selectedCategory,\n    getCatID,\n    isConnected\n  }, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }))), React.createElement(Border, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }), React.createElement(Inp, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: \"text\",\n    value: catInput,\n    onChange: e => setCatInput(e.target.value),\n    placeholder: \"category name\",\n    className: isConnected ? \"category\" : \"disable category\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    className: isConnected ? \"\" : \"disable\",\n    disabled: !disabledBt,\n    onClick: e => addCategory(e),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, \"add category\")), React.createElement(Border, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }), React.createElement(Inp, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }, React.createElement(CategoryOptions, Object.assign({\n    catagories,\n    setSelectedCategory,\n    selectedCategory,\n    getCatID,\n    isConnected\n  }, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  })), React.createElement(\"button\", {\n    className: isConnected ? \"\" : \"disable\",\n    onClick: toDeleteCategory,\n    disabled: !disabledBt,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  }, \"delete category\")));\n};\n\nexport default CategoryCreator;\n\nconst Inp = _styled.div.withConfig({\n  displayName: \"CategoryCreator__Inp\",\n  componentId: \"schw8j-0\"\n})([\"width:30%;display:flex;justify-content:space-around;padding:1px 5px;@media only screen and (max-width:414px){width:100%;height:40px;}\"]);\n\nconst Border = _styled.div.withConfig({\n  displayName: \"CategoryCreator__Border\",\n  componentId: \"schw8j-1\"\n})([\"width:4px;background-color:#e3e3e3;height:auto;margin:1px auto;border-radius:5px;\"]);","map":{"version":3,"sources":["C:/Users/AVIA/Desktop/youTubeNew/myTubeFull/client/src/view/CategoryCreator.jsx"],"names":["React","useState","useEffect","CategoryOptions","deleteCategory","createCategory","CategoryCreator","setCatagories","catagories","selectedCategory","setSelectedCategory","userToken","isConnected","catInput","setCatInput","deletecatID","setDeletecatID","disabledBt","setdisabledBt","addCategory","e","preventDefault","find","cat","cat_name","new_cat","videos","alert","toDeleteCategory","length","newCat","filter","_id","console","log","getCatID","id","target","value","Inp","styled","div","Border"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport styled from \"styled-components/macro\";\r\nimport CategoryOptions from \"./CategoryOptions\";\r\nimport { deleteCategory, createCategory } from \"../service/fetchApi\";\r\n\r\nconst CategoryCreator = ({\r\n  setCatagories,\r\n  catagories,\r\n  selectedCategory,\r\n  setSelectedCategory,\r\n  userToken,\r\n  isConnected,\r\n}) => {\r\n  let [catInput, setCatInput] = useState(\"\");\r\n  let [deletecatID, setDeletecatID] = useState(\"\");\r\n  const [disabledBt, setdisabledBt] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setdisabledBt(isConnected);\r\n  }, [isConnected]);\r\n\r\n  const addCategory = async (e) => {\r\n    e.preventDefault();\r\n    if (catInput !== \"\") {\r\n      if (!catagories.find((cat) => cat.cat_name === catInput)) {\r\n        const new_cat = await createCategory(userToken, {\r\n          cat_name: catInput,\r\n          videos: [],\r\n        });\r\n\r\n        setCatagories([...catagories, new_cat]);\r\n        setCatInput(\"\");\r\n      } else {\r\n        alert(\"this name all ready exists\");\r\n        setCatInput(\"\");\r\n        return;\r\n      }\r\n    } else {\r\n      alert(\"You need to put a category name\");\r\n    }\r\n  };\r\n\r\n  const toDeleteCategory = (e) => {\r\n    e.preventDefault();\r\n    if (catagories.length > 1) {\r\n      const newCat = catagories.filter((cat) => cat._id !== deletecatID);\r\n      setCatagories(newCat);\r\n      console.log(deletecatID);\r\n      deleteCategory(userToken, deletecatID);\r\n    } else {\r\n      alert(\"No catagories to delete\");\r\n    }\r\n  };\r\n  const getCatID = (id) => {\r\n    console.log(id);\r\n    setDeletecatID(id);\r\n  };\r\n\r\n  return (\r\n    <form className={isConnected ? \"category_form\" : \"disable category_form\"}>\r\n      <Inp>\r\n        <div className=\"description\">\r\n          <span> the video will add to:</span>\r\n        </div>\r\n        <CategoryOptions\r\n          className={isConnected ? \"\" : \"disable\"}\r\n          {...{\r\n            catagories,\r\n            setSelectedCategory,\r\n            selectedCategory,\r\n            getCatID,\r\n            isConnected,\r\n          }}\r\n        />\r\n      </Inp>\r\n      <Border />\r\n      <Inp>\r\n        <input\r\n          type=\"text\"\r\n          value={catInput}\r\n          onChange={(e) => setCatInput(e.target.value)}\r\n          placeholder=\"category name\"\r\n          className={isConnected ? \"category\" : \"disable category\"}\r\n        />\r\n        <button\r\n          className={isConnected ? \"\" : \"disable\"}\r\n          disabled={!disabledBt}\r\n          onClick={(e) => addCategory(e)}\r\n        >\r\n          add category\r\n        </button>\r\n      </Inp>\r\n      <Border />\r\n      <Inp>\r\n        <CategoryOptions\r\n          {...{\r\n            catagories,\r\n            setSelectedCategory,\r\n            selectedCategory,\r\n            getCatID,\r\n            isConnected,\r\n          }}\r\n        />\r\n        <button\r\n          className={isConnected ? \"\" : \"disable\"}\r\n          onClick={toDeleteCategory}\r\n          disabled={!disabledBt}\r\n        >\r\n          delete category\r\n        </button>\r\n      </Inp>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default CategoryCreator;\r\n\r\nconst Inp = styled.div`\r\n  width: 30%;\r\n  display: flex;\r\n  justify-content: space-around;\r\n  padding: 1px 5px;\r\n  @media only screen and (max-width: 414px) {\r\n    width: 100%;\r\n    height: 40px;\r\n  }\r\n`;\r\nconst Border = styled.div`\r\n  width: 4px;\r\n  background-color: #e3e3e3;\r\n  height: auto;\r\n  margin: 1px auto;\r\n  border-radius: 5px;\r\n`;\r\n"]},"metadata":{},"sourceType":"module"}