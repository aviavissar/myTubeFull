{"ast":null,"code":"import _styled from \"styled-components\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\AVIA\\\\Desktop\\\\youTubeNew\\\\myTubeFull\\\\client\\\\src\\\\view\\\\Search.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport searchYoutube from \"youtube-api-v3-search\";\nimport { useStore } from \"../state/YouTube.store\";\nimport { BACKGROUND, BORDER } from \"../styles/colors\";\nimport Option from \"./Option\";\nimport useDebounce from \"../service/useDebounce\";\n\nconst Search = ({\n  handleFormSubmit,\n  videosQuery\n}) => {\n  _s();\n\n  const KEY = \"AIzaSyDqR-0y3VVOk98ypwvhePJF8rqesXb8RaM\"; // process.env.REACT_APP_YOUTUBE_KEY;\n\n  const {\n    setvideos\n  } = useStore();\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [selectedDisplay, setselectedDisplay] = useState(\"\");\n  const debouncedSearchTerm = useDebounce(searchTerm, 500);\n  useEffect(() => {\n    if (debouncedSearchTerm) {\n      const doAsync = async () => {\n        setCitiesArr(await fetchCitiesArr(debouncedSearchTerm));\n      };\n\n      doAsync();\n      setDisplay(\"block\");\n    } else {\n      setDisplay(\"none\");\n    }\n  }, [debouncedSearchTerm]);\n\n  const handleFetch = async event => {\n    event.preventDefault();\n    setSearchTerm(event.target.value);\n    const options = {\n      q: event.target.value,\n      part: \"snippet\",\n      type: \"video\",\n      maxResults: 10\n    };\n    console.log(event.target.value.length);\n\n    try {\n      if (true) {\n        let result = await searchYoutube(KEY, options);\n        console.log(result);\n        setvideos(result.items);\n      }\n    } catch (e) {\n      console.log(e);\n\n      if (e.error.code === 403) {\n        alert(\"you exceeded your search try tomorrow \");\n      }\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(SearchInput, {\n    onChange: event => {\n      setSearchTerm(event.target.value);\n      setselectedDisplay(event.target.value);\n    },\n    type: \"text\",\n    label: \"WHERE\",\n    placeholder: \"find...\",\n    value: searchTerm,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Ul, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }, videosQuery.map((vid, indx) => {\n    return /*#__PURE__*/React.createElement(Option, {\n      key: indx,\n      title: vid.snippet.title,\n      setTrem: () => setSearchTerm(\"\"),\n      videoObj: vid,\n      indx: indx,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 15\n      }\n    });\n  }))));\n};\n\n_s(Search, \"6Gegmf+mtlfC1OzUi1voA4rEW+Q=\", false, function () {\n  return [useStore, useDebounce];\n});\n\n_c = Search;\nexport default Search;\n\nconst SearchInput = _styled.input.withConfig({\n  displayName: \"Search__SearchInput\",\n  componentId: \"hqwvx3-0\"\n})([\"border:1px solid \", \";@media only screen and (max-width:414px){min-width:initial;margin:5px;padding:1px 5px;height:30px;color:black;font-size:0.8rem;width:130px;}\"], BORDER);\n\nconst Ul = _styled.ul.withConfig({\n  displayName: \"Search__Ul\",\n  componentId: \"hqwvx3-1\"\n})([\"background-color:\", \";width:100%;position:relative;font-size:12px;top:23px;padding:0 1.5vw 0 1.5vw;border-bottom-left-radius:15px;border-bottom-right-radius:15px;border:1px solid \", \";border-top:none;left:-85px;@media only screen and (max-width:414px){min-width:initial;margin:0px;height:initial;color:black;font-size:0.62rem;width:200%;top:11px;left:-115px;}\"], BACKGROUND, BORDER);\n\nvar _c;\n\n$RefreshReg$(_c, \"Search\");","map":{"version":3,"sources":["C:/Users/AVIA/Desktop/youTubeNew/myTubeFull/client/src/view/Search.jsx"],"names":["React","useState","searchYoutube","useStore","BACKGROUND","BORDER","Option","useDebounce","Search","handleFormSubmit","videosQuery","KEY","setvideos","searchTerm","setSearchTerm","selectedDisplay","setselectedDisplay","debouncedSearchTerm","useEffect","doAsync","setCitiesArr","fetchCitiesArr","setDisplay","handleFetch","event","preventDefault","target","value","options","q","part","type","maxResults","console","log","length","result","items","e","error","code","alert","map","vid","indx","snippet","title","SearchInput","styled","input","Ul","ul"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport searchYoutube from \"youtube-api-v3-search\";\r\nimport { useStore } from \"../state/YouTube.store\";\r\nimport styled from \"styled-components/macro\";\r\nimport { BACKGROUND, BORDER } from \"../styles/colors\";\r\nimport Option from \"./Option\";\r\nimport useDebounce from \"../service/useDebounce\";\r\n\r\n\r\nconst Search = ({ handleFormSubmit, videosQuery }) => {\r\n  const KEY = \"AIzaSyDqR-0y3VVOk98ypwvhePJF8rqesXb8RaM\"; // process.env.REACT_APP_YOUTUBE_KEY;\r\n  const { setvideos } = useStore();\r\n\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n  const [selectedDisplay, setselectedDisplay] = useState(\"\");\r\n  \r\n  const debouncedSearchTerm = useDebounce(searchTerm, 500);\r\n\r\n  useEffect(() => {\r\n    if (debouncedSearchTerm) {\r\n      const doAsync = async () => {\r\n        setCitiesArr(await fetchCitiesArr(debouncedSearchTerm));\r\n      };\r\n      doAsync();\r\n      setDisplay(\"block\");\r\n    } else {\r\n      setDisplay(\"none\");\r\n    }\r\n  }, [debouncedSearchTerm]);\r\n\r\n  const handleFetch = async (event) => {\r\n    event.preventDefault();\r\n    setSearchTerm(event.target.value);\r\n    const options = {\r\n      q: event.target.value,\r\n      part: \"snippet\",\r\n      type: \"video\",\r\n      maxResults: 10,\r\n    };\r\n    console.log(event.target.value.length);\r\n    try {\r\n      if (true) {\r\n        let result = await searchYoutube(KEY, options);\r\n        console.log(result);\r\n        setvideos(result.items);\r\n      }\r\n    } catch (e) {\r\n      console.log(e);\r\n      if (e.error.code === 403) {\r\n        alert(\"you exceeded your search try tomorrow \");\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <form>\r\n        <SearchInput\r\n          onChange={event=>{ setSearchTerm(event.target.value);\r\n              setselectedDisplay(event.target.value);}}\r\n          type=\"text\"\r\n          label=\"WHERE\"\r\n          placeholder=\"find...\"\r\n          value={searchTerm}\r\n        />\r\n        <Ul>\r\n          {videosQuery.map((vid, indx) => {\r\n            return (\r\n              <Option\r\n                key={indx}\r\n                title={vid.snippet.title}\r\n                setTrem={() => setSearchTerm(\"\")}\r\n                videoObj={vid}\r\n                indx={indx}\r\n              />\r\n            );\r\n          })}\r\n        </Ul>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Search;\r\n\r\nconst SearchInput = styled.input`\r\n  border: 1px solid ${BORDER};\r\n  @media only screen and (max-width: 414px) {\r\n    min-width: initial;\r\n    margin: 5px;\r\n    padding: 1px 5px;\r\n    height: 30px;\r\n    color: black;\r\n    font-size: 0.8rem;\r\n    width: 130px;\r\n  }\r\n`;\r\nconst Ul = styled.ul`\r\n  background-color: ${BACKGROUND};\r\n  width: 100%;\r\n  position: relative;\r\n  font-size: 12px;\r\n  top: 23px;\r\n  padding: 0 1.5vw 0 1.5vw;\r\n  border-bottom-left-radius: 15px;\r\n  border-bottom-right-radius: 15px;\r\n  border: 1px solid ${BORDER};\r\n  border-top: none;\r\n  left: -85px;\r\n  @media only screen and (max-width: 414px) {\r\n    min-width: initial;\r\n    margin: 0px;\r\n    height: initial;\r\n    color: black;\r\n    font-size: 0.62rem;\r\n    width: 200%;\r\n    top: 11px;\r\n    left: -115px;\r\n  }\r\n`;\r\n"]},"metadata":{},"sourceType":"module"}