{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/AVIA/Desktop/youTubeNew/myTubeFull/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/AVIA/Desktop/youTubeNew/myTubeFull/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import axios1 from\"axios\";var axios=axios1.default;export var login=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(email,password){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;console.log(email+\",\"+password);_context.next=4;return axios.post(\"/users/login\",{email:email,password:password},{headers:{\"Content-Type\":\"application/json\"}});case 4:response=_context.sent;if(!(response.status===200)){_context.next=13;break;}if(!(response.data===400)){_context.next=10;break;}return _context.abrupt(\"return\",new Error(\"Unable to find your mail please sign in\"));case 10:if(!(response.data===401)){_context.next=12;break;}return _context.abrupt(\"return\",new Error(\"wrong password try again\"));case 12:return _context.abrupt(\"return\",response);case 13:_context.next=18;break;case 15:_context.prev=15;_context.t0=_context[\"catch\"](0);console.log(_context.t0.message);case 18:case\"end\":return _context.stop();}}},_callee,null,[[0,15]]);}));return function login(_x,_x2){return _ref.apply(this,arguments);};}();export var logout=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(userToken){var response;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return axios.post(\"/users/logout\",{},{headers:{Authorization:userToken}});case 3:response=_context2.sent;return _context2.abrupt(\"return\",response.data);case 7:_context2.prev=7;_context2.t0=_context2[\"catch\"](0);console.error(\" client error\"+_context2.t0);case 10:case\"end\":return _context2.stop();}}},_callee2,null,[[0,7]]);}));return function logout(_x3){return _ref2.apply(this,arguments);};}();export var createUser=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(email,password,fname,lname){var response;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return axios({method:\"post\",url:\"/users\",headers:{},data:{fname:fname,lname:lname,email:email,password:password}}).catch(function(e){console.log(\"error\",e.response);if(e.response.data.code===11000){throw new Error(\"this email already exist\");}});case 3:response=_context3.sent;console.log(\"createftch\",response);return _context3.abrupt(\"return\",response);case 8:_context3.prev=8;_context3.t0=_context3[\"catch\"](0);console.log(\"createftcherr\",_context3.t0.message);throw _context3.t0;case 12:case\"end\":return _context3.stop();}}},_callee3,null,[[0,8]]);}));return function createUser(_x4,_x5,_x6,_x7){return _ref3.apply(this,arguments);};}();export var updateProfile=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(profile,userToken){var password,_profile$fname,fname,lname,response;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:password=profile.password,_profile$fname=profile.fname,fname=_profile$fname===void 0?\"my defaultName\":_profile$fname,lname=profile.lname;_context4.prev=1;console.log(\"response\",profile);_context4.next=5;return axios({method:\"patch\",url:\"/users/me\",data:{fname:fname,lname:lname,password:password},headers:{Authorization:userToken}});case 5:response=_context4.sent;console.log(response.data);return _context4.abrupt(\"return\",response.data);case 10:_context4.prev=10;_context4.t0=_context4[\"catch\"](1);console.error(\" client error\");case 13:case\"end\":return _context4.stop();}}},_callee4,null,[[1,10]]);}));return function updateProfile(_x8,_x9){return _ref4.apply(this,arguments);};}();/****catagories */export var getCatagories=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(userToken){var response;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.prev=0;_context5.next=3;return axios({method:\"get\",url:\"/catagories\",headers:{Authorization:userToken}});case 3:response=_context5.sent;return _context5.abrupt(\"return\",response.data);case 7:_context5.prev=7;_context5.t0=_context5[\"catch\"](0);console.error(_context5.t0);case 10:case\"end\":return _context5.stop();}}},_callee5,null,[[0,7]]);}));return function getCatagories(_x10){return _ref5.apply(this,arguments);};}();export var createCategory=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(userToken,category){var response;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.prev=0;_context6.next=3;return axios({method:\"post\",url:\"/catagories\",headers:{\"Content-Type\":\"application/json; charset=utf-8\",Authorization:userToken},data:category});case 3:response=_context6.sent;console.log(response);return _context6.abrupt(\"return\",response.data);case 8:_context6.prev=8;_context6.t0=_context6[\"catch\"](0);console.error(_context6.t0);case 11:case\"end\":return _context6.stop();}}},_callee6,null,[[0,8]]);}));return function createCategory(_x11,_x12){return _ref6.apply(this,arguments);};}();export var updateCategory=/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(editCat,userToken){var _id,cat_name,videos,response;return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_id=editCat._id,cat_name=editCat.cat_name,videos=editCat.videos;_context7.prev=1;console.log(\"response\",editCat);_context7.next=5;return axios({method:\"patch\",url:\"/catagories/\".concat(_id),data:{cat_name:cat_name,videos:videos},headers:{Authorization:userToken}});case 5:response=_context7.sent;return _context7.abrupt(\"return\",response.data);case 9:_context7.prev=9;_context7.t0=_context7[\"catch\"](1);console.error(\" claint error\");case 12:case\"end\":return _context7.stop();}}},_callee7,null,[[1,9]]);}));return function updateCategory(_x13,_x14){return _ref7.apply(this,arguments);};}();export var deleteCategory=/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee8(userToken,id){return _regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.prev=0;_context8.next=3;return axios.delete(\"/catagories/\".concat(id),{headers:{Authorization:userToken}});case 3:_context8.next=8;break;case 5:_context8.prev=5;_context8.t0=_context8[\"catch\"](0);console.error(\" exios claint error\"+_context8.t0);case 8:case\"end\":return _context8.stop();}}},_callee8,null,[[0,5]]);}));return function deleteCategory(_x15,_x16){return _ref8.apply(this,arguments);};}();export var createList=/*#__PURE__*/function(){var _ref9=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee9(userToken,catagories){var response;return _regeneratorRuntime.wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:_context9.prev=0;_context9.next=3;return axios({method:\"post\",url:\"/catagories/list\",headers:{\"Content-Type\":\"application/json; charset=utf-8\",Authorization:userToken},data:catagories});case 3:response=_context9.sent;console.log(response);return _context9.abrupt(\"return\",response);case 8:_context9.prev=8;_context9.t0=_context9[\"catch\"](0);console.error(_context9.t0);case 11:case\"end\":return _context9.stop();}}},_callee9,null,[[0,8]]);}));return function createList(_x17,_x18){return _ref9.apply(this,arguments);};}();","map":{"version":3,"sources":["C:/Users/AVIA/Desktop/youTubeNew/myTubeFull/client/src/service/fetchApi.js"],"names":["axios1","axios","default","login","email","password","console","log","post","headers","response","status","data","Error","message","logout","userToken","Authorization","error","createUser","fname","lname","method","url","catch","e","code","updateProfile","profile","getCatagories","createCategory","category","updateCategory","editCat","_id","cat_name","videos","deleteCategory","id","delete","createList","catagories"],"mappings":"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","sourcesContent":["import axios1 from \"axios\";\r\nlet axios = axios1.default;\r\n\r\nexport const login = async (email, password) => {\r\n  try {\r\n    console.log(email + \",\" + password);\r\n    const response = await axios.post(\r\n      \"/users/login\",\r\n      { email, password },\r\n      {\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n      }\r\n    );\r\n    if (response.status === 200) {\r\n      if (response.data === 400) {\r\n        return new Error(\"Unable to find your mail please sign in\");\r\n      } else if (response.data === 401) {\r\n        return new Error(\"wrong password try again\");\r\n      }\r\n\r\n      return response;\r\n    }\r\n  } catch (e) {\r\n    console.log(e.message);\r\n  }\r\n};\r\n\r\nexport const logout = async (userToken) => {\r\n  try {\r\n    const response = await axios.post(\r\n      \"/users/logout\",\r\n      {},\r\n      {\r\n        headers: {\r\n          Authorization: userToken,\r\n        },\r\n      }\r\n    );\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error(\" client error\" + error);\r\n  }\r\n};\r\n\r\nexport const createUser = async (email, password, fname, lname) => {\r\n  try {\r\n    const response = await axios({\r\n      method: \"post\",\r\n      url: \"/users\",\r\n      headers: {},\r\n      data: {\r\n        fname,\r\n        lname,\r\n        email,\r\n        password,\r\n      },\r\n    }).catch((e) => {\r\n      console.log(\"error\", e.response);\r\n      if (e.response.data.code === 11000) {\r\n        throw new Error(\"this email already exist\");\r\n      }\r\n    });\r\n    console.log(\"createftch\", response);\r\n    return response;\r\n  } catch (error) {\r\n    console.log(\"createftcherr\", error.message);\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const updateProfile = async (profile, userToken) => {\r\n  const { password, fname = \"my defaultName\", lname } = profile;\r\n  try {\r\n    console.log(\"response\", profile);\r\n    const response = await axios({\r\n      method: \"patch\",\r\n      url: \"/users/me\",\r\n      data: {\r\n        fname,\r\n        lname,\r\n        password,\r\n      },\r\n      headers: {\r\n        Authorization: userToken,\r\n      },\r\n    });\r\n    console.log(response.data);\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error(\" client error\");\r\n  }\r\n};\r\n\r\n/****catagories */\r\nexport const getCatagories = async (userToken) => {\r\n  try {\r\n    const response = await axios({\r\n      method: \"get\",\r\n      url: \"/catagories\",\r\n      headers: {\r\n        Authorization: userToken,\r\n      },\r\n    });\r\n\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n};\r\n\r\nexport const createCategory = async (userToken, category) => {\r\n  try {\r\n    const response = await axios({\r\n      method: \"post\",\r\n      url: \"/catagories\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n        Authorization: userToken,\r\n      },\r\n      data: category,\r\n    });\r\n    console.log(response);\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n};\r\nexport const updateCategory = async (editCat, userToken) => {\r\n  const { _id, cat_name, videos } = editCat;\r\n  try {\r\n    console.log(\"response\", editCat);\r\n    const response = await axios({\r\n      method: \"patch\",\r\n      url: `/catagories/${_id}`,\r\n      data: {\r\n        cat_name,\r\n        videos,\r\n      },\r\n      headers: {\r\n        Authorization: userToken,\r\n      },\r\n    });\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error(\" claint error\");\r\n  }\r\n};\r\n\r\nexport const deleteCategory = async (userToken, id) => {\r\n  try {\r\n    await axios.delete(`/catagories/${id}`, {\r\n      headers: {\r\n        Authorization: userToken,\r\n      },\r\n    });\r\n  } catch (error) {\r\n    console.error(\" exios claint error\" + error);\r\n  }\r\n};\r\n\r\nexport const createList = async (userToken, catagories) => {\r\n  try {\r\n    const response = await axios({\r\n      method: \"post\",\r\n      url: \"/catagories/list\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n        Authorization: userToken,\r\n      },\r\n      data: catagories,\r\n    });\r\n    console.log(response);\r\n    return response;\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n};\r\n"]},"metadata":{},"sourceType":"module"}